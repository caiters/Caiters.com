!function(){var e;if($(document).scroll(function(a){e=$(window).scrollTop(),e>0?$("body").addClass("is-scrolled"):$("body").removeClass("is-scrolled")}),$(".open-mobile-nav").click(function(){$(".main-nav").toggleClass("main-nav__open")}),$("#contactForm").length>0){$("#contactForm").submit(function(e){if(e.preventDefault(),$("#sendmsg").hasClass("btn--submitting"));else if(a()){$("#sendmsg").addClass("btn--submitting");var r={name:$("input[name=name]").val(),email:$("input[name=email]").val(),message:$("textarea[name=message]").val()};$.ajax({type:"POST",url:"/contact",data:r,dataType:"json",encode:!0}).done(function(e){$("#sendmsg").removeClass("btn--submitting"),$("#formMsgSubmit").text(e.msg).removeClass("form-msg--hidden"),e.err?$("#formMsgSubmit").addClass("form-msg--error"):$("#formMsgSubmit").removeClass("form-msg--error").addClass("form-msg--success")})}});var a=function(){var e=!1;return $("#name").val().length>0||($("#name").addClass("form-input--error"),$("#name").next(".form-msg--error").text("Please enter your name").removeClass("form-msg--hidden"),e=!0),$("#email").val().length>0?r($("#email").val())||($("#email").addClass("form-input--error"),$("#email").next(".form-msg--error").text("Please enter a valid email address").removeClass("form-msg--hidden"),e=!0):($("#email").addClass("form-input--error"),$("#email").next(".form-msg--error").text("Please enter an email address").removeClass("form-msg--hidden"),e=!0),0===$("#message").val().length&&($("#message").addClass("form-textarea--error"),$("#message").next(".form-msg--error").text("Please write a message").removeClass("form-msg--hidden"),e=!0),e?!1:!0};$("form input, form textarea").keyup(function(){var e=$(this);if(e.hasClass("form-input")||e.hasClass("form-textarea")){e.removeClass("form-input--error form-textarea--error");var a=e.next(".form-msg--error")[0];$(a).addClass("form-msg--hidden")}});var r=function(e){var a=/\S+@\S+/;return a.test(e)};$("#email").blur(function(e){$("#email").val().length>0&&!r($("#email").val())&&($("#email").addClass("form-input--error"),$("#email").next(".form-msg--error").text("Please enter a valid email address").removeClass("form-msg--hidden"))})}}();